<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Chrome, Firefox OS and Opera Status Bar Color -->
<meta name="theme-color" content="#FFFFFF">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
<link rel="stylesheet" type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
<link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
<link rel="stylesheet" type="text/css" href="css/theme.css">
<link rel="stylesheet" type="text/css" href="css/notablog.css">
<!-- Favicon -->

  <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;ğŸ“–&lt;/text&gt;&lt;/svg&gt;">

<style>
  :root {
    font-size: 20px;
  }
</style>
  <title>èŠèŠGoçš„slice&nbsp;|&nbsp;Notablog</title>
  <meta property="og:type" content="blog">
  <meta property="og:title" content="èŠèŠGoçš„slice">
  
    <meta name="description" content="é€šè¿‡æºç åˆ†æsliceçš„åˆå§‹åŒ–å’Œæ‰©å®¹æœºåˆ¶">
    <meta property="og:description" content="é€šè¿‡æºç åˆ†æsliceçš„åˆå§‹åŒ–å’Œæ‰©å®¹æœºåˆ¶">
  
  
  <style>
    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
  <a href="index.html">
    <div class="Navbar__Btn">
      
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;ğŸ“–&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
      
      <span>Home</span>
    </div>
  </a>
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="about.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;ğŸ˜€&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>å…³äºæˆ‘</span>
        </div>
      </a>
    
  
</nav>
  <header class="Header">
    
    <div class="Header__Spacer Header__Spacer--NoCover">
    </div>
    
    <h1 class="Header__Title">èŠèŠGoçš„slice</h1>
    
      <div class="DateTagBar">
        
          <span class="DateTagBar__Item DateTagBar__Date">Posted on Sun, Nov 20, 2022</span>
        
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--pink">
            <a href="tag/Go.html">Go</a>
          </span>
        
      </div>
    
  </header>
  <article id="https://www.notion.so/f57661f870a14ee6a86809224dcbb50a" class="PageRoot"><ul id="https://www.notion.so/2d29f8c6e00842eab6a8e3b89e11802c" class="ColorfulBlock ColorfulBlock--ColorGray TableOfContents"><li class="TableOfContents__Item"><a href="#https://www.notion.so/88ccdf21bf6f4f47ad63bc6148b4eb77"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">æŸ¥çœ‹sliceçš„æºç </span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/aff44efa9edf4075ace3e737a7ef6760"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">sliceçš„åˆå§‹åŒ–</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/7149483c26e648448078c25c12f55502"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">sliceçš„æ‰©å®¹æœºåˆ¶</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/025b0d83ec6647c6938e65ca7de8e317"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">step 1. æ­¥é•¿</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/d52828d112574c89b2bef839a0cdb5b4"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">step 2. å†…å­˜å¯¹é½</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/b8c14434cf3544dfaf77caad59eeb242"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">æ€»ç»“</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/134a78a0525643c6bfd2fadc60474fc5"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">sliceçš„æ‹·è´</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/1aa01744a9704f1184421154a40128a9"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">sliceéå†çš„å‘</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/1342f4438c8d41cd9e9e93a0ccaa5667"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">ä¸€äº›é—®é¢˜</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/137285dee42642fc9fe05156899476f7"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">æ€»ç»“</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/837a1ac1d40f4bb6be569b0a0c474503"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">Ref</span></span></div></a></li></ul><h1 id="https://www.notion.so/88ccdf21bf6f4f47ad63bc6148b4eb77" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/88ccdf21bf6f4f47ad63bc6148b4eb77"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">æŸ¥çœ‹sliceçš„æºç </span></span></h1><div id="https://www.notion.so/463196f2e0df4e8ba9130f80d8ae3783" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æŸ¥çœ‹goçš„ç‰ˆæœ¬</span></span></p></div><pre id="https://www.notion.so/3f6960b1cb3c40b2972cbca4fdec9b1d" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>$ go version
go version go1.16.15 darwin/arm64</span></span></span></code></pre><div id="https://www.notion.so/9e4eaa94719343fbb21ab796eb50d9a7" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">åˆ‡æ¢åˆ°æˆ‘ä»¬çš„goå®‰è£…è·¯å¾„ï¼Œè¾“å…¥</span></span></p></div><pre id="https://www.notion.so/ae09624b27564cb1b2df19546e9cfccc" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>$ grep -n &quot;type slice struct&quot; -r ./</span></span></span></code></pre><div id="https://www.notion.so/e0ee1f844f374a4b8260f85c1b31206e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">å¾—åˆ°è¾“å‡º</span></span></p></div><pre id="https://www.notion.so/59ebe073f38d4d539002269f9be25ab1" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>.//src/cmd/compile/internal/gc/go.go:77:// type slice struct {
.//src/runtime/slice.go:13:type slice struct {</span></span></span></code></pre><div id="https://www.notion.so/0c7a271107d54a4c9b7e75de8568e498" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æˆ‘ä»¬ç›´æ¥è¿›</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">slice.go</code></span><span class="SemanticString"> è¿™ä¸ªæ–‡ä»¶çœ‹ä¸‹</span></span></p></div><div id="https://www.notion.so/c51c915eb9024192bc791eba01ee0286" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ç®—ä¸Šæ³¨é‡Šä¹Ÿå°±300è¡Œä¸åˆ°çš„ä»£ç ï¼ŒçŸ­å°ç²¾æ‚ï¼Œçœ‹çœ‹å®šä¹‰å’Œå‡½æ•°åˆ—è¡¨</span></span></p></div><div id="https://www.notion.so/4a491e20e8004ceea0f6b874ee5c4b7c" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fc570d58b-7992-4cca-b1c1-ad9aea894226%2FUntitled.png?width=978&amp;table=block&amp;id=4a491e20-e800-4cee-a0f6-b874ee5c4b7c"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fc570d58b-7992-4cca-b1c1-ad9aea894226%2FUntitled.png?width=978&amp;table=block&amp;id=4a491e20-e800-4cee-a0f6-b874ee5c4b7c" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/061795a47bb14c208518c1afcf5f82de" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ç»“æ„ä½“å®šä¹‰</span></span></p></div><pre id="https://www.notion.so/a70ea14029d54267a5fd4ee51d16df2b" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>type slice struct {
	array unsafe.Pointer    // åº•å±‚æ•°ç»„
	len   int               // æ•°ç»„é•¿åº¦
	cap   int               // æ•°ç»„å®¹é‡
}</span></span></span></code></pre><div id="https://www.notion.so/f432822761ce4d10ab7a753b0a927920" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">sliceæ˜¯åœ¨åº•å±‚çš„æ•°ç»„ä¸Šé¢åŒ…äº†ä¸€å±‚ï¼Œarrayæ˜¯æŒ‡å‘åº•å±‚æ•°ç»„çš„æŒ‡é’ˆï¼Œåº•å±‚æ•°ç»„æ˜¯çœŸæ­£å­˜å‚¨å€¼çš„åœ°æ–¹ã€‚è€Œlenå’Œcapå’Œåˆ†åˆ«è¡¨ç¤ºæ•°ç»„å½“å‰é•¿åº¦å’Œæ•°ç»„çš„å®¹é‡ï¼Œsliceæ ¹æ®å®ƒä»¬çš„å¤§å°å…³ç³»æ¥è¿›è¡Œæ‰©å®¹ã€‚</span></span></p></div><h1 id="https://www.notion.so/aff44efa9edf4075ace3e737a7ef6760" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/aff44efa9edf4075ace3e737a7ef6760"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">sliceçš„åˆå§‹åŒ–</span></span></h1><div id="https://www.notion.so/b63dd47726f44b149d35059c30bbb89c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æˆ‘ä»¬åˆå§‹åŒ–ä¸€ä¸ªsliceï¼Œå¯ä»¥æœ‰ä¸¤ç§æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ï¼š</span></span></p></div><pre id="https://www.notion.so/6197dcc375bd40438083b101c41cbd1f" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>make([]int, 5)    // åˆå§‹åŒ–sizeä¸º5ï¼Œcapä¸º5çš„slice
make([]int, 0, 5) // åˆå§‹åŒ–sizeä¸º0ï¼Œcapä¸º5çš„sliceï¼Œæ¨èä½¿ç”¨è¯¥æ–¹å¼
[]int{1, 2, ... } // ç›´æ¥ç»™å®šå€¼å£°æ˜</span></span></span></code></pre><div id="https://www.notion.so/53d2ef4df1df4f7b8d7db6d18742ad18" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">å¯¹äºsliceæ¥è¯´ï¼Œmakeçš„ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šå­˜å‚¨ç±»å‹ï¼Œè¿™é‡Œæ˜¯</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">int</code></span><span class="SemanticString">ï¼Œç¬¬äºŒä¸ªæ˜¯sizeï¼Œå¯é€‰ä¸º0ï¼Œç¬¬ä¸‰ä¸ªæ˜¯capï¼ŒæŒ‡å®šå®¹é‡</span></span></p></div><div id="https://www.notion.so/60f8c79654b04a319ec2484bd6021452" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æˆ‘ä»¬ä¸€èˆ¬æ¨èä½¿ç”¨ç¬¬äºŒç§æ–¹å¼ï¼ŒæŒ‡å®šå¥½capï¼Œé¿å…æ‰©å®¹å¸¦æ¥çš„å¼€é”€ï¼Œè€Œsizeæˆ‘ä»¬ä¸€èˆ¬æŒ‡å®šä¸º0ï¼Œè¡¨ç¤ºä¸å­˜å‚¨ä»»ä½•å…ƒç´ ã€‚</span></span></p></div><div id="https://www.notion.so/660d984b7463430d9e24829a5a5d7ecd" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">å¦‚æœæˆ‘ä»¬æŒ‡å®šäº†sizeï¼Œé‚£ä¹ˆä¼šåœ¨ç”Ÿæˆsizeä¸ªé»˜è®¤å€¼åœ¨sliceä¸­ï¼Œæ¯”å¦‚è¯´intç±»å‹çš„é»˜è®¤å€¼å°±æ˜¯0ã€‚è¯·çœ‹ä¸‹é¢çš„æ‰“å°ç»“æœ</span></span></p></div><pre id="https://www.notion.so/60a21e856acc49a9a7f12d04cd10687e" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>func TestSlice(t *testing.T) {
	a := make([]int, 5)
	for i := 1; i &lt;= 5; i++ {
		a = append(a, i)
	}
	b := make([]int, 0, 10)
	for i := 1; i &lt;= 5; i++ {
		b = append(b, i)
	}
	c := []int{1, 2, 3, 4, 5}
	fmt.Println(a, len(a), cap(a))
	fmt.Println(b, len(b), cap(b))
	fmt.Println(c, len(c), cap(c))
}
// è¾“å‡º
// [0 0 0 0 0 1 2 3 4 5] 10 10
// [1 2 3 4 5] 5 10</span></span></span></code></pre><div id="https://www.notion.so/b5e6c6442ba4462b85246259bc751ab2" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ç”¨</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">make([]int, size)</code></span><span class="SemanticString"> æ–¹å¼åˆå§‹åŒ–ï¼Œå¾ˆå®¹æ˜“å¿˜è®°æˆ‘ä»¬å·²ç»å­˜å‚¨äº†è‹¥å¹²ä¸ªå€¼äº†ã€‚é™¤éæˆ‘ä»¬çœŸçš„éœ€è¦è¿™æ ·çš„sliceï¼Œä¸ç„¶è¿˜æ˜¯ç”¨ç¬¬äºŒç§åˆå§‹åŒ–æ–¹å¼æ¯”è¾ƒå¥½ã€‚</span></span></p></div><div id="https://www.notion.so/2f8de26d12e548aba3d8bc3591379c93" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ä¸‹é¢æˆ‘ä»¬çœ‹çœ‹åˆå§‹åŒ–çš„æºç ï¼š</span></span></p></div><pre id="https://www.notion.so/b11c4f0d4bcb45f59ec4e09793270a1c" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>func makeslice(et *_type, len, cap int) unsafe.Pointer {
	mem, overflow := math.MulUintptr(et.size, uintptr(cap))
	if overflow || mem &gt; maxAlloc || len &lt; 0 || len &gt; cap {
		// NOTE: Produce a &#x27;len out of range&#x27; error instead of a
		// &#x27;cap out of range&#x27; error when someone does make([]T, bignumber).
		// &#x27;cap out of range&#x27; is true too, but since the cap is only being
		// supplied implicitly, saying len is clearer.
		// See golang.org/issue/4085.
		mem, overflow := math.MulUintptr(et.size, uintptr(len))
		if overflow || mem &gt; maxAlloc || len &lt; 0 {
			panicmakeslicelen()
		}
		panicmakeslicecap()
	}

	return mallocgc(mem, et, true)
}</span></span></span></code></pre><div id="https://www.notion.so/0577cb3215044261b1068675b26f037c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">å¤–éƒ¨çš„é€»è¾‘æ˜¯æ£€æŸ¥æˆ‘ä»¬å¼€çš„å®¹é‡ä¼šä¸ä¼šæº¢å‡ºï¼Œå¦‚æœæº¢å‡ºå°±æŠ›å‡ºpanicï¼Œå¦åˆ™çš„è¯è°ƒç”¨</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">mallocgc</code></span><span class="SemanticString"> è¿›è¡Œåˆå§‹åŒ–ï¼Œmallocgcçš„æºç æ¶‰åŠåˆ°ä¸€äº›goå†…å­˜åˆ†é…çš„çŸ¥è¯†ï¼Œè¿™é‡Œå°±ä¸å±•å¼€äº†ï¼Œæ„Ÿå…´è¶£å¯ä»¥è‡ªå·±çœ‹çœ‹ã€‚</span></span></p></div><h1 id="https://www.notion.so/7149483c26e648448078c25c12f55502" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/7149483c26e648448078c25c12f55502"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">sliceçš„æ‰©å®¹æœºåˆ¶</span></span></h1><h2 id="https://www.notion.so/025b0d83ec6647c6938e65ca7de8e317" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/025b0d83ec6647c6938e65ca7de8e317"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">step 1. æ­¥é•¿</span></span></h2><div id="https://www.notion.so/c52c259b7482411f8bcd37642f67c379" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">å½“æˆ‘ä»¬lenè¶…è¿‡capçš„æ—¶å€™å°±ä¼šè§¦å‘æ‰©å®¹ï¼Œå®é™…è°ƒç”¨çš„å‡½æ•°æ˜¯</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">growslice</code></span><span class="SemanticString">ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹goæ˜¯æ€ä¹ˆå®ç°çš„</span></span></p></div><pre id="https://www.notion.so/87b9ced668dc49b99513b4d2eb262045" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>// growslice handles slice growth during append.
// It is passed the slice element type, the old slice, and the desired new minimum capacity,
// and it returns a new slice with at least that capacity, with the old data
// copied into it.
// The new slice&#x27;s length is set to the old slice&#x27;s length,
// NOT to the new requested capacity.
// This is for codegen convenience. The old slice&#x27;s length is used immediately
// to calculate where to write new values during an append.
// TODO: When the old backend is gone, reconsider this decision.
// The SSA backend might prefer the new length or to return only ptr/cap and save stack space.
func growslice(et *_type, old slice, cap int) slice {
	...
	
	newcap := old.cap
		doublecap := newcap + newcap
		if cap &gt; doublecap {
			newcap = cap
		} else {
			if old.cap &lt; 1024 {
				newcap = doublecap
			} else {
				// Check 0 &lt; newcap to detect overflow
				// and prevent an infinite loop.
				for 0 &lt; newcap &amp;&amp; newcap &lt; cap {
					newcap += newcap / 4
				}
				// Set newcap to the requested cap when
				// the newcap calculation overflowed.
				if newcap &lt;= 0 {
					newcap = cap
				}
			}
		}
	...
}</span></span></span></code></pre><div><div></div><div></div><div></div><div></div><div></div></div><div id="https://www.notion.so/bb427629553644aaa86ee84a7aed2754" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">å†³ç­–é€»è¾‘ï¼š</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/21a0e612ef7e41a790da4a10ec8b1572" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">å¦‚æœæœŸæœ›å®¹é‡è¶…è¿‡å½“å‰å®¹é‡çš„ä¸¤å€ï¼Œç›´æ¥è®¾ç½®ä¸ºæœŸæœ›å®¹é‡ï¼Œå¦åˆ™</span></span></li><li id="https://www.notion.so/440c25b24e17458cb86182d3fdada1e7" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">å¦‚æœå½“å‰å®¹é‡çš„å€¼å°äº1024ï¼Œç›´æ¥ç¿»å€ï¼Œå¦åˆ™</span></span></li><li id="https://www.notion.so/3e194dc75173407f8995fb332d232f22" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">å¦‚æœnewcap &lt; capï¼Œä¸æ–­ä»¥1.25å€çš„é€Ÿåº¦å¢é•¿</span></span></li></ul><div id="https://www.notion.so/c47133eccee149c28140bc11ecf2bcfe" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb8eced42-e046-4d89-894b-f3331bc1b6e5%2FUntitled.png?width=2796&amp;table=block&amp;id=c47133ec-cee1-49c2-8140-bc11ecf2bcfe"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb8eced42-e046-4d89-894b-f3331bc1b6e5%2FUntitled.png?width=2796&amp;table=block&amp;id=c47133ec-cee1-49c2-8140-bc11ecf2bcfe" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/2707e1ef5946417597424152c830c798" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/74cf82871c47494587233389fd8a758d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">å¯¹äº1.25å€æ‰©å¢é€Ÿåº¦ï¼Œgoçš„1.18.1ç‰ˆæœ¬ä½œå‡ºäº†ä¼˜åŒ–</span></span></p></div><pre id="https://www.notion.so/69807686ca994908add755fdf6d7cb76" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>func growslice(et *_type, old slice, cap int) slice {
	...	
	newcap := old.cap
	doublecap := newcap + newcap
	if cap &gt; doublecap {
			newcap = cap
	} else {
			const threshold = 256
			if old.cap &lt; threshold {
					newcap = doublecap
			} else {
					// Check 0 &lt; newcap to detect overflow
					// and prevent an infinite loop.
					for 0 &lt; newcap &amp;&amp; newcap &lt; cap {
							// Transition from growing 2x for small slices
							// to growing 1.25x for large slices. This formula
							// gives a smooth-ish transition between the two.
							newcap += (newcap + 3*threshold) / 4
					}
					// Set newcap to the requested cap when
					// the newcap calculation overflowed.
					if newcap &lt;= 0 {
							newcap = cap
					}
			}
	}
	...
}</span></span></span></code></pre><div id="https://www.notion.so/d19a31e1851f4751bbda4246fb6d3685" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">è¿™é‡Œçš„åŒºåˆ«å°±æ˜¯</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">newcap += (newcap + 3*threshold) / 4</code></span><span class="SemanticString"> ï¼Œæ³¨é‡Šä¸Šè¯´ç›¸æ¯”äºæ—§ç‰ˆæœ¬ï¼Œè¿™é‡Œå¢é•¿é€Ÿåº¦æ›´åŠ smoothï¼Œå…·ä½“æ•ˆæœå¯ä»¥ç”¨pythonç”»å›¾æ¨¡æ‹Ÿä¸€ä¸‹ï¼Œè¿™é‡Œå°±ä¸å±•å¼€äº†ã€‚
</span></span></p></div><div id="https://www.notion.so/aa5fb7ecc52247a5a2fdca2774697887" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€æ®µä»£ç ï¼Œçœ‹çœ‹ç»“æœæ˜¯ä¸æ˜¯å’Œæˆ‘ä»¬ä¸Šé¢åˆ†æå¾—ä¸€æ ·</span></span></p></div><pre id="https://www.notion.so/1fb7b43b185c46dda1088e166f714aad" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>func TestSlice(t *testing.T) {
	c := make([]int, 0, 2)
	// æ­¤æ—¶cæ»¡
	c = append(c, 1, 2)
	// æ­¤æ—¶æŒ‰ç…§è®¡ç®—å…¬å¼ï¼ŒæœŸæœ›å®¹é‡ä¸º5ï¼Œå½“å‰å®¹é‡ä¸º2ï¼Œåˆ™cçš„æœ€ç»ˆå®¹é‡æ˜¯5
	c = append(c, 3, 4, 5)
	// çŒœæµ‹ä¸º5 5
	fmt.Println(len(c), cap(c))
}</span></span></span></code></pre><div id="https://www.notion.so/9526dd2e11d0498db500447f9203c354" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ä½†æ˜¯è¾“å‡ºç»“æœæ˜¯</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">5 6</code></span><span class="SemanticString">ï¼Œcapè¢«è®¾ç½®æˆäº†6ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼ŸåŸå› æ˜¯goè¿˜ä¼šè¿›è¡Œå†…å­˜å¯¹é½</span></span></p></div><h2 id="https://www.notion.so/d52828d112574c89b2bef839a0cdb5b4" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/d52828d112574c89b2bef839a0cdb5b4"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">step 2. å†…å­˜å¯¹é½</span></span></h2><pre id="https://www.notion.so/ed5bf066b1ab483a89dadf6310affd98" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>func growslice(et *_type, old slice, cap int) slice {
	...

	newcap := old.cap
	doublecap := newcap + newcap
	if cap &gt; doublecap {
		newcap = cap
	} else {
		if old.cap &lt; 1024 {
			newcap = doublecap
		} else {
			// Check 0 &lt; newcap to detect overflow
			// and prevent an infinite loop.
			for 0 &lt; newcap &amp;&amp; newcap &lt; cap {
				newcap += newcap / 4
			}
			// Set newcap to the requested cap when
			// the newcap calculation overflowed.
			if newcap &lt;= 0 {
				newcap = cap
			}
		}
	}

	var overflow bool
	var lenmem, newlenmem, capmem uintptr
	// Specialize for common values of et.size.
	// For 1 we don&#x27;t need any division/multiplication.
	// For sys.PtrSize, compiler will optimize division/multiplication into a shift by a constant.
	// For powers of 2, use a variable shift.
	switch {
	case et.size == 1:
		...
	case et.size == sys.PtrSize:
		...
	case isPowerOfTwo(et.size):
		var shift uintptr
		if sys.PtrSize == 8 {
			// Mask shift for better code generation.
			shift = uintptr(sys.Ctz64(uint64(et.size))) &amp; 63
		} else {
			shift = uintptr(sys.Ctz32(uint32(et.size))) &amp; 31
		}
		lenmem = uintptr(old.len) &lt;&lt; shift
		newlenmem = uintptr(cap) &lt;&lt; shift
		capmem = roundupsize(uintptr(newcap) &lt;&lt; shift)
		overflow = uintptr(newcap) &gt; (maxAlloc &gt;&gt; shift)
		newcap = int(capmem &gt;&gt; shift)
	default:
		...
	}
	...

	return slice{p, old.len, newcap}
}</span></span></span></code></pre><div id="https://www.notion.so/3cb19bdcc0f3438d9bca5b29a6e72acc" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">et.sizeæŒ‡çš„æ˜¯å­˜å‚¨å…ƒç´ ç±»å‹çš„å¤§å°ï¼Œè¿™é‡Œintç±»å‹å­—èŠ‚æ˜¯8ï¼Œä½¿ç”¨ä¸‹é¢çš„å‡½æ•°åˆ¤æ–­é€šè¿‡</span></span></p></div><pre id="https://www.notion.so/5f0cbc7454e04f52a868f50fc3c01e7f" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>func isPowerOfTwo(x uintptr) bool {
	return x&amp;(x-1) == 0
}</span></span></span></code></pre><div id="https://www.notion.so/ed3976ce309a430a9af8624bd3471f59" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">å…ˆä¸çœ‹ä»£ç ï¼Œæˆ‘ä»¬åˆ†æä¸€ä¸‹æ€ä¹ˆå†…å­˜å¯¹é½ï¼š</span></span></p></div><div id="https://www.notion.so/27dbee5fa7aa4077ae2cd03a4a07c673" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æˆ‘ä»¬çš„sliceç°åœ¨å­˜å‚¨äº†5ä¸ªå…ƒç´ ï¼Œintç±»å‹8ä¸ªå­—èŠ‚ï¼Œåˆ™æ–°çš„å­˜å‚¨å®¹é‡å¤§å°</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">newcap = 5 * 8 = 40</code></span><span class="SemanticString">ï¼Œä½†æ˜¯ä¸ºäº†æ›´å¥½çš„å†…å­˜åˆ†é…å‡å°‘ç¢ç‰‡ï¼Œgoä½¿ç”¨äº†å’Œcä¸€æ ·çš„å†…å­˜å¯¹é½ç­–ç•¥ï¼Œä½¿ç”¨</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">roundupsize</code></span><span class="SemanticString"> å‘ä¸Šè°ƒæ•´å¤§å°ï¼Œè¿™é‡Œè°ƒæ•´æˆäº†48ï¼Œé‚£ä¹ˆæœ€ç»ˆçš„</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">cap = 48 / 8 = 6</code></span><span class="SemanticString">ï¼Œæ‰€ä»¥åœ¨ä¸Šé¢çš„ä¾‹å­capè¢«è®¾ç½®ä¸ºäº†6</span></span></p></div><div id="https://www.notion.so/1f35b4289ddc4c9b81bec0283ff9761d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">ä¸ºä»€ä¹ˆè¢«è°ƒæ•´åˆ°48å‘¢ï¼Ÿ</strong></span></span></p></div><div id="https://www.notion.so/31fd03f1f9c24eb2932710197ead98c7" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">åŸå› æ˜¯Goè¯­è¨€çš„å†…å­˜ç®¡ç†é€šå¸¸æŠŠè¿™äº›å†…å­˜å—éƒ½é¢„å…ˆç”³è¯·å¥½ï¼Œå¹¶ä¸”è¢«åˆ†ä¸ºå¸¸ç”¨çš„è§„æ ¼ï¼Œæ¯”å¦‚8ï¼Œ16ï¼Œ 32ï¼Œ 48ï¼Œ 64ç­‰ï¼Œå½“æˆ‘ä»¬ç”³è¯·40 bytesçš„æ—¶å€™ï¼Œä¼šç”³è¯·ä¸€ä¸ªè¶³å¤Ÿå¤§çš„å†…å­˜å—ç»™æˆ‘ä»¬ï¼Œè¿™å°±è¿”å›çš„æ˜¯48 bytes</span></span></p></div><div id="https://www.notion.so/0c3bb5853eef40cfa21c3e1e020fc3f4" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">è‡³äºæ€ä¹ˆè®¾ç½®çš„å‘¢ï¼Œè¿™é‡Œæœ‰ä¸¤ä¸ªå¾ˆå·§å¦™çš„å‡½æ•° </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Ctz64</code></span><span class="SemanticString"> å’Œ </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">roundupsize</code></span></span></p></div><pre id="https://www.notion.so/358c7db0616a4c7b88e61061c8de2787" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>// Ctz64 counts trailing (low-order) zeroes,
// and if all are zero, then 64.
// è¿”å›xä¸­æœ«å°¾0çš„ä¸ªæ•°
func Ctz64(x uint64) int {
	x &amp;= -x                       // isolate low-order bit
	y := x * deBruijn64ctz &gt;&gt; 58  // extract part of deBruijn sequence
	i := int(deBruijnIdx64ctz[y]) // convert to bit index
	z := int((x - 1) &gt;&gt; 57 &amp; 64)  // adjustment if zero
	return i + z
}

func roundupsize(size uintptr) uintptr {
	if size &lt; _MaxSmallSize {
		if size &lt;= smallSizeMax-8 {
			return uintptr(class_to_size[size_to_class8[divRoundUp(size, smallSizeDiv)]])
		} else {
			return uintptr(class_to_size[size_to_class128[divRoundUp(size-smallSizeMax, largeSizeDiv)]])
		}
	}
	if size+_PageSize &lt; size {
		return size
	}
	return alignUp(size, _PageSize)
}

// alignUp rounds n up to a multiple of a. a must be a power of 2.
func alignUp(n, a uintptr) uintptr {
	return (n + a - 1) &amp;^ (a - 1)
}
// &amp;^ æ˜¯ ANT NOT è¿ç®—ç¬¦</span></span></span></code></pre><div id="https://www.notion.so/71f22d56f6574fca930236b68f3035e9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ç„¶åæˆ‘ä»¬å†çœ‹è¿™ä¸€å—ä»£ç </span></span></p></div><pre id="https://www.notion.so/7b8eecd569c745d5b2e06fee1266a5ad" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>	case isPowerOfTwo(et.size):
		var shift uintptr
		if sys.PtrSize == 8 {
			// Mask shift for better code generation.
			shift = uintptr(sys.Ctz64(uint64(et.size))) &amp; 63
		} else {
			shift = uintptr(sys.Ctz32(uint32(et.size))) &amp; 31
		}
		capmem = roundupsize(uintptr(newcap) &lt;&lt; shift)
		newcap = int(capmem &gt;&gt; shift)</span></span></span></code></pre><div id="https://www.notion.so/70f706d801f04eda9280b4344197685a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">é¦–å…ˆæˆ‘ä»¬é€šè¿‡</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Ctz64(et.size)</code></span><span class="SemanticString"> å¾—åˆ°shiftçš„å€¼ï¼Œintç±»å‹æ˜¯8ä¸ªå­—èŠ‚ï¼Œåˆ™8çš„äºŒè¿›åˆ¶æœ«å°¾æœ‰3ä¸ª0ï¼Œæˆ‘ä»¬å¾—åˆ°</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">shift=3</code></span></span></p></div><div id="https://www.notion.so/87a381f31aae42f78784d090e911e095" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ç„¶å</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">newcap&lt;&lt;shift</code></span><span class="SemanticString"> å°±æ˜¯ </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">5 &lt;&lt; 3</code></span><span class="SemanticString"> å¾—åˆ°40</span></span></p></div><div id="https://www.notion.so/9b110d56197a40c7ba065ce3535cdc5e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ç»è¿‡</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">roundupsize</code></span><span class="SemanticString">ï¼Œå¾—åˆ°</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">capmem = 48</code></span></span></p></div><div id="https://www.notion.so/5bf98707f14544ddb5c330b0886d2ab8" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æœ€ç»ˆå†è¿˜åŸå›æ¥ </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">newcap = int(48 &gt;&gt; 3) = 6</code></span></span></p></div><div id="https://www.notion.so/461d735a847b43ecbdf4951e7e4f5f4f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">è¿™æ ·å°±èƒ½å†…å­˜å¯¹é½å•¦</span></span></p></div><h2 id="https://www.notion.so/b8c14434cf3544dfaf77caad59eeb242" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/b8c14434cf3544dfaf77caad59eeb242"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">æ€»ç»“</span></span></h2><div id="https://www.notion.so/0c99766c491040bb9bc559670651e3e3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">sliceçš„æ‰©å®¹æ­¥éª¤æœ‰ä¸¤æ­¥</span></span></p></div><ol class="NumberedListWrapper"><li id="https://www.notion.so/a7ccb892d0c549b099b4932070417ec7" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">è°ƒæ•´æœŸæœ›å®¹é‡</span></span><ol class="NumberedListWrapper"><li id="https://www.notion.so/f94175d27de9477aae84e09f2799913e" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">å¦‚æœæœŸæœ›å®¹é‡æ˜¯å½“å‰å®¹é‡çš„ä¸¤å€ï¼Œç›´æ¥æ›´æ–°ï¼Œå¦åˆ™</span></span></li><li id="https://www.notion.so/494d5db1f6d3417c9434c0c9b4bf22c9" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">å¦‚æœå°äº1024ï¼Œç›´æ¥ç¿»å€å½“å‰å®¹é‡ï¼Œå¦åˆ™</span></span></li><li id="https://www.notion.so/7cc654cb7ea34812b73b5fd5df139c03" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">å½“å‰å®¹é‡æŒ‰ç…§1.25çš„é€Ÿåº¦å¢é•¿ï¼Œç›´åˆ°è¶…è¿‡æœŸæœ›å®¹é‡</span></span></li></ol></li><li id="https://www.notion.so/c2d6abc51cda479288835df6ccb5f957" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">è¿›è¡Œå†…å­˜å¯¹é½ï¼Œå‘ä¸Šè°ƒæ•´åˆ°æœ€æ¥è¿‘çš„2çš„næ¬¡å¹‚</span></span></li></ol><h1 id="https://www.notion.so/134a78a0525643c6bfd2fadc60474fc5" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/134a78a0525643c6bfd2fadc60474fc5"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">sliceçš„æ‹·è´</span></span></h1><div id="https://www.notion.so/a1fa6d9934b44435978a20ff22436888" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">åˆ‡ç‰‡æ‹·è´çš„æ–¹æ³•æ˜¯slicecopyï¼Œæˆ‘ä»¬çœ‹çœ‹æ˜¯æ€ä¹ˆåšçš„ï¼š</span></span></p></div><pre id="https://www.notion.so/e34b2b119b664eeca5da5582eba13f04" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>// slicecopy is used to copy from a string or slice of pointerless elements into a slice.
func slicecopy(toPtr unsafe.Pointer, toLen int, fromPtr unsafe.Pointer, fromLen int, width uintptr) int {
	// å¦‚æœæœ‰ä¸€ä¸ªé•¿åº¦ä¸º0ï¼Œæå‰é€€å‡º
	if fromLen == 0 || toLen == 0 {
		return 0
	}
	
	// è®°å½•ä¸‹è¾ƒçŸ­çš„é•¿åº¦
	n := fromLen
	if toLen &lt; n {
		n = toLen
	}
	// å¦‚æœæŒ‡å®šçš„é•¿åº¦ä¸º0ï¼Œé‚£ä¹ˆæå‰é€€å‡º
	if width == 0 {
		return n
	}

	size := uintptr(n) * width
	...

	if size == 1 { // common case worth about 2x to do here
		// TODO: is this still worth it with new memmove impl?

		// å¦‚æœåªæœ‰ä¸€ä¸ªé•¿åº¦ï¼Œç›´æ¥æŒ‡é’ˆè½¬æ¢å³å¯
		*(*byte)(toPtr) = *(*byte)(fromPtr) // known to be a byte pointer
	} else {
		// ä»from.array ç§»åŠ¨ size ä¸ª bytes æ‹·è´åˆ° to.array
		memmove(toPtr, fromPtr, size)
	}
	return n
}</span></span></span></code></pre><div id="https://www.notion.so/af4494305c3442749cbfcdd0ac49a746" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æ‰§è¡Œçœ‹çœ‹æ•ˆæœ</span></span></p></div><pre id="https://www.notion.so/91df9e385509424cb84e7e6bbe11f631" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>func TestCopy(t *testing.T) {
	a := []int{1, 2, 3}
	b := make([]int, 5)
	c := make([]int, 2)
	n := copy(b, a)
	fmt.Println(b, n)
	n = copy(c, a)
	fmt.Println(c, n)
}

// === RUN   TestCopy
// [1 2 3 0 0] 3
// [1 2] 2
// --- PASS: TestCopy (0.00s)</span></span></span></code></pre><h2 id="https://www.notion.so/1aa01744a9704f1184421154a40128a9" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/1aa01744a9704f1184421154a40128a9"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">sliceéå†çš„å‘</span></span></h2><div id="https://www.notion.so/f046769aede54cf8b0dab73ade4b51bb" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ä½†æ˜¯æˆ‘ä»¬æ‹·è´æœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼š</span></span></p></div><pre id="https://www.notion.so/ae8f0880313641f2a08294a6551d16b7" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>func TestFor(t *testing.T) {
	slice := []int{10, 20, 30, 40}
	for index, value := range slice {
		fmt.Printf(&quot;value = %d , value-addr = %x , slice-addr = %x\n&quot;, value, &amp;value, &amp;slice[index])
	}
}</span></span></span></code></pre><div id="https://www.notion.so/c2cf804601814d62b851314a529223d2" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">è¾“å‡ºï¼š</span></span></p></div><pre id="https://www.notion.so/3c4f4f8dcf49462f99502b89b7e3de64" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>=== RUN   TestFor
value = 10 , value-addr = 1400001e250 , slice-addr = 1400001a0a0
value = 20 , value-addr = 1400001e250 , slice-addr = 1400001a0a8
value = 30 , value-addr = 1400001e250 , slice-addr = 1400001a0b0
value = 40 , value-addr = 1400001e250 , slice-addr = 1400001a0b8
--- PASS: TestFor (0.00s)</span></span></span></code></pre><div id="https://www.notion.so/8c3c5697a93d4db895b375f00a07ccb6" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ç”¨rangeå»éå†åˆ‡ç‰‡çš„æ—¶å€™ï¼Œæ‹¿åˆ°çš„valueå…¶å®æ˜¯åˆ‡ç‰‡é‡Œé¢çš„</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">å€¼æ‹·è´</strong></span><span class="SemanticString">ï¼Œæ‰€ä»¥æ¯æ¬¡Valueçš„åœ°å€éƒ½ä¸å˜ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦ç”¨</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">&amp;slice[index]</code></span><span class="SemanticString">æ‰èƒ½æ‹¿åˆ°çœŸå®çš„åœ°å€</span></span></p></div><div id="https://www.notion.so/7a67d63333aa422ea258b7fe466a8154" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F07b1c3a3-a71d-49ab-af2d-f7b440c6c984%2FUntitled.png?width=1674&amp;table=block&amp;id=7a67d633-33aa-422e-a258-b7fe466a8154"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F07b1c3a3-a71d-49ab-af2d-f7b440c6c984%2FUntitled.png?width=1674&amp;table=block&amp;id=7a67d633-33aa-422e-a258-b7fe466a8154" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/9fe48194677b4bf9b2bf0f28e64fbdc7" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ref: </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://halfrost.com/go_slice/">æ·±å…¥è§£æ Go ä¸­ Slice åº•å±‚å®ç° (halfrost.com)</a></span></span></p></div><div id="https://www.notion.so/1b34644ac3394beb9d91f77135a3ba88" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">å¦‚æœä¸æ³¨æ„åˆ°è¿™ç‚¹çš„è¯ï¼Œä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿå½“æˆ‘ä»¬æ‹·è´çš„æ—¶å€™å¯èƒ½å°±ä¼šè¸©å‘äº†ï¼š</span></span></p></div><pre id="https://www.notion.so/4807b77e270646cc9a076492ba5fc8fb" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>func TestFor(t *testing.T) {
	slice := []int{10, 20, 30, 40}
	to := make([]*int, 0, len(slice))
	for _, value := range slice {
		to = append(to, &amp;value)
	}
	for _, value := range to {
		fmt.Println(*value, value)
	}
}</span></span></span></code></pre><div id="https://www.notion.so/8732076f81914655bdd765b180058d70" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">è¾“å‡ºï¼š</span></span></p></div><pre id="https://www.notion.so/9add7150c6b648d387739572120fb63b" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>=== RUN   TestFor
40 0x14000098168
40 0x14000098168
40 0x14000098168
40 0x14000098168
--- PASS: TestFor (0.00s)</span></span></span></code></pre><div id="https://www.notion.so/cc274ebecb6d4847a3337a8161585393" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">å¯ä»¥å‘ç°ï¼Œæ¯æ¬¡appendåˆ°toé‡Œé¢çš„åœ°å€éƒ½æ˜¯åˆ›å»ºçš„ä¸´æ—¶å˜é‡valueï¼Œè€Œvalueæœ€åçš„å€¼æ˜¯40ï¼Œæ‰€ä»¥å¯¼è‡´æœ€åè¾“å‡ºå€¼éƒ½æ˜¯40ï¼Œä¸”æŒ‡å‘çš„åœ°å€å°±æ˜¯valueçš„åœ°å€ã€‚</span></span></p></div><div id="https://www.notion.so/7633448501f84a87af1fbbb4185451df" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">è¦é¿å…è¿™ä¸ªå‘ï¼Œæˆ‘ä»¬è¦è®°ä½foréå†çš„æ—¶å€™ä¼šåˆ›å»ºä¸´æ—¶å˜é‡ï¼Œé¿å…ç›´æ¥å¯¹ä¸´æ—¶å˜é‡æ“ä½œã€‚</span></span></p></div><pre id="https://www.notion.so/1542ebb2c6d944aaad8d74529504848a" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>// æ–¹æ³•ä¸€ï¼Œç›´æ¥æ“ä½œsliceçš„å€¼
for index, _ := range slice {
		to = append(to, &amp;slice[index])
}

// æ–¹æ³•äºŒï¼Œåˆ›å»ºä¸´æ—¶å˜é‡
for _, value := range slice {
		tmp := value
		to = append(to, &amp;tmp)
}</span></span></span></code></pre><div id="https://www.notion.so/c0c760e42562422e9982c79caf1abb29" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h1 id="https://www.notion.so/1342f4438c8d41cd9e9e93a0ccaa5667" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/1342f4438c8d41cd9e9e93a0ccaa5667"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">ä¸€äº›é—®é¢˜</span></span></h1><ul class="BulletedListWrapper"><li id="https://www.notion.so/9de25fdd99674bd39fb4eb57a4334608" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">ä¸ºä»€ä¹ˆ1024ä¹‹åçš„æ‰©å±•é€Ÿåº¦å˜ä¸º1.25å€å‘¢ï¼Ÿ</span></span></li></ul><div id="https://www.notion.so/30c45ff5c38642858938963d17afce4e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">å› ä¸ºå†…å­˜ç©ºé—´å¾ˆå®è´µï¼Œåº•å±‚çš„æ•°ç»„æ˜¯åœ¨å†…å­˜ä¸­è¿ç»­çš„ç©ºé—´ï¼Œç”³è¯·è¿™æ ·å¤§è§„æ¨¡è¿ç»­çš„ç©ºé—´æ˜¯å¾ˆæ˜‚è´µçš„ï¼Œ1024ä¹‹åæˆ‘ä»¬ç”¨1.25çš„é€Ÿåº¦æ‰©å±•å·²ç»è¶³å¤Ÿå¤§äº†ï¼Œè¿™æ ·ç›¸æ¯”äºç¿»å€æ‰©å±•èƒ½è§£å†³æ›´å¤šçš„ç©ºé—´</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/516c2057f89140cd9af7ab01a16516c8" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">ä¸ºä»€ä¹ˆè¦å†…å­˜å¯¹é½ï¼Ÿ</span></span></li></ul><div id="https://www.notion.so/b2047ea3d6394300b9b96005894738a8" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">å› ä¸ºå†…å­˜ç®¡ç†ä¼šé¢„å…ˆç”³è¯·å†…å­˜åå†è¿›è¡Œåˆ†é…ï¼Œé¢„å…ˆç”³è¯·çš„å¤§å°éƒ½æ˜¯å¸¸ç”¨çš„è§„æ ¼ï¼Œæ¯”å¦‚è¯´8ï¼Œ16ï¼Œ32ï¼Œ48ï¼Œ64ç­‰ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦è¿›è¡Œå†…å­˜å¯¹é½æ¥è¿”å›ä¸€ä¸ªè¶³å¤Ÿå¤§çš„å†…å­˜å—ä½¿ç”¨ã€‚è¿™æ ·é¿å…ä»»æ„å¤§å°çš„å†…å­˜å—äº§ç”Ÿå†…å­˜ç¢ç‰‡ï¼Œå½±å“ç©ºé—´ç”³è¯·å’Œæ•´ç†ã€‚</span></span></p></div><h1 id="https://www.notion.so/137285dee42642fc9fe05156899476f7" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/137285dee42642fc9fe05156899476f7"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">æ€»ç»“</span></span></h1><div id="https://www.notion.so/efe1a331bfea4da0aa553970ae04e610" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ç®€å•ä»‹ç»äº†ä¸€ä¸‹sliceçš„ä»£ç ï¼ŒçŸ­å°ç²¾æ‚ï¼Œä¸»è¦æœ‰åˆå§‹åŒ–ã€æ‰©å®¹ã€æ‹·è´ä¸‰ç§æ“ä½œã€‚</span></span></p></div><div id="https://www.notion.so/8d4278e2f4214ba6aea2cf32eb8bb3df" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æ—¥å¸¸ä½¿ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬æœ€å¥½æŒ‡å®šcapçš„ä¸Šé™ï¼Œé¿å…æ‰©å®¹å¸¦æ¥çš„å¼€é”€ã€‚åŒæ—¶é¿å…åˆ‡ç‰‡éå†çš„å‘ã€‚</span></span></p></div><h1 id="https://www.notion.so/837a1ac1d40f4bb6be569b0a0c474503" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/837a1ac1d40f4bb6be569b0a0c474503"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Ref</span></span></h1><div id="https://www.notion.so/16aa32c854a444eb9470c7ebd4978bdc" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://www.lookcos.cn/archives/1204.html">æµ…è°ˆ Go 1.18.1çš„åˆ‡ç‰‡æ‰©å®¹æœºåˆ¶ - Lookcos çš„ç½‘ç»œæ—¥å¿—</a></span></span></p></div><div id="https://www.notion.so/9a40afd93c974d5f8c586d8aec1c6df8" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://halfrost.com/go_slice/">æ·±å…¥è§£æ Go ä¸­ Slice åº•å±‚å®ç° (halfrost.com)</a></span></span></p></div><div id="https://www.notion.so/5037bfc16f134aff9b5d5051cdadaba3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://tiancaiamao.gitbooks.io/go-internals/content/zh/02.2.html">slice Â· æ·±å…¥è§£æGo (gitbooks.io)</a></span></span></p></div><div id="https://www.notion.so/710daca5a0e842abb0d6ee0d28418730" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="http://lifegoeson.cn/2022/01/22/golang%20slice%E6%89%A9%E5%AE%B9%E6%9C%BA%E5%88%B6/">golang sliceæ‰©å®¹æœºåˆ¶ (lifegoeson.cn)</a></span></span></p></div><div id="https://www.notion.so/132b9649cb624ef6954d53565900f381" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://eddycjy.gitbook.io/golang/di-1-ke-za-tan/go-memory-align">1.5 åœ¨ Go ä¸­æ°åˆ°å¥½å¤„çš„å†…å­˜å¯¹é½ - è·Ÿç…é±¼å­¦ Go (gitbook.io)</a></span></span></p></div><div id="https://www.notion.so/4df9adceffed414bb3bbd3b517f05d1b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://zhuanlan.zhihu.com/p/86765504">goï¼š&amp;^ è¿ç®—ç¬¦ - çŸ¥ä¹ (zhihu.com)</a></span></span></p></div><div id="https://www.notion.so/a7c08b041d344c9ba3fb6d96d6c9e468" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div></article>
  <footer class="Footer">
  <div>&copy; Notablog 2022</div>
  <div>&centerdot;</div>
  <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
      rel="noopener noreferrer">Notablog</a>.
  </div>
</footer>
</body>

</html>