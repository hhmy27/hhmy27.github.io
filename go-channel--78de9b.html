<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Chrome, Firefox OS and Opera Status Bar Color -->
<meta name="theme-color" content="#FFFFFF">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
<link rel="stylesheet" type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
<link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
<link rel="stylesheet" type="text/css" href="css/theme.css">
<link rel="stylesheet" type="text/css" href="css/notablog.css">
<!-- Favicon -->

  <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;ğŸ“–&lt;/text&gt;&lt;/svg&gt;">

<style>
  :root {
    font-size: 20px;
  }
</style>
  <title>Go channel å°ç»“&nbsp;|&nbsp;Notablog</title>
  <meta property="og:type" content="blog">
  <meta property="og:title" content="Go channel å°ç»“">
  
  
  <style>
    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
  <a href="index.html">
    <div class="Navbar__Btn">
      
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;ğŸ“–&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
      
      <span>Home</span>
    </div>
  </a>
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="about.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;ğŸ˜€&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>å…³äºæˆ‘</span>
        </div>
      </a>
    
  
    
  
    
  
    
  
    
  
</nav>
  <header class="Header">
    
    <div class="Header__Spacer Header__Spacer--NoCover">
    </div>
    
    <h1 class="Header__Title">Go channel å°ç»“</h1>
    
      <div class="DateTagBar">
        
          <span class="DateTagBar__Item DateTagBar__Date">Posted on Tue, Nov 29, 2022</span>
        
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--pink">
            <a href="tag/Go.html">Go</a>
          </span>
        
      </div>
    
  </header>
  <article id="https://www.notion.so/78de9b6e8102400489f6fe81e2fc5363" class="PageRoot"><ul id="https://www.notion.so/c98cf749b37d40719b4a1c01732f3021" class="ColorfulBlock ColorfulBlock--ColorGray TableOfContents"><li class="TableOfContents__Item"><a href="#https://www.notion.so/90690a9e0df247a7aef73ae953624c67"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">ç®€ä»‹</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/6c9f0a079541462db11a00fada9e3969"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">åˆå§‹åŒ–</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/57342cba1e6b480abfe0d218bdf31d01"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">channel çš„ä½¿ç”¨</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/e4d3d196c9af4e668babb511f4673d98"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">éå†</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/c4e39751adae46e5a2178a09bb7cf92e"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">select</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/3a1d7f8ace3b40c6b1913852f126e673"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">é€šé“çš„é™åˆ¶</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/e7f29620d1ac4e8f855a7e5ded4335b1"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">é€šé“çš„å…³é—­å’Œå¼‚å¸¸</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/c84cfefbf8ca4a96bd46fe50c45a897a"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">æºç åˆ†æ</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/20ded407864f4db1b7509688e9332926"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">Ref</span></span></div></a></li></ul><h1 id="https://www.notion.so/90690a9e0df247a7aef73ae953624c67" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/90690a9e0df247a7aef73ae953624c67"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">ç®€ä»‹</span></span></h1><blockquote id="https://www.notion.so/e260f6831c494081a6f6c82e125edd0b" class="ColorfulBlock ColorfulBlock--ColorDefault Quote"><span class="SemanticStringArray"><span class="SemanticString">ä½¿ç”¨é€šä¿¡(channel)æ¥å…±äº«å†…å­˜ï¼Œè€Œä¸æ˜¯é€šè¿‡å…±äº«å†…å­˜æ¥é€šä¿¡</span></span></blockquote><div id="https://www.notion.so/623343d61d474cc28b08875c6dae1d4e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">channel å¯ä»¥ç”¨äºå®ç°ä¸€ä¸ªç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹ï¼Œç”¨äºç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ä¹‹é—´å…±äº«æ•°æ®</span></span></p></div><div id="https://www.notion.so/685d2c3689834d4c9427e0ff7dde6279" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F2a1fa1f5-d64f-45f5-9d9f-b2c513e17cfa%2FUntitled.png?width=1706&amp;table=block&amp;id=685d2c36-8983-4d4c-9427-e0ff7dde6279"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F2a1fa1f5-d64f-45f5-9d9f-b2c513e17cfa%2FUntitled.png?width=1706&amp;table=block&amp;id=685d2c36-8983-4d4c-9427-e0ff7dde6279" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/f0c81f09bb4f4089a426d2245e3a7a5d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æ—¥å¸¸ä½¿ç”¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æ¥åš goruntine çš„åŒæ­¥ï¼Œchannel ä½¿ç”¨ç®€å•æ•ˆæœå¯é ï¼Œä¸‹é¢æ¥çœ‹çœ‹å¦‚ä½• channel å§</span></span></p></div><h1 id="https://www.notion.so/6c9f0a079541462db11a00fada9e3969" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/6c9f0a079541462db11a00fada9e3969"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">åˆå§‹åŒ–</span></span></h1><div id="https://www.notion.so/2f28ea30dec14469a2240bbf6973c3af" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ä½¿ç”¨ make æ¥åˆå§‹åŒ–ä¸€ä¸ª channelï¼Œchannel æ”¯æŒå¤šç§ç±»å‹å…ƒç´ </span></span></p></div><blockquote id="https://www.notion.so/662c89788142454fac4244dc710506b2" class="ColorfulBlock ColorfulBlock--ColorDefault Quote"><span class="SemanticStringArray"><span class="SemanticString">é™¤äº† channel ä»¥å¤–ï¼Œmake è¿˜å¯ä»¥ç”¨æ¥åˆå§‹åŒ– sliceã€map</span></span></blockquote><pre id="https://www.notion.so/a73a8d93841d4447bacc9a86c4a075e5" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>ch1 := make(chan int, 3) // åˆå§‹åŒ–ä¸€ä¸ªå¤§å°ä¸º 3 çš„ channel
ch2 := make(chan int)    // åˆå§‹åŒ–ä¸€ä¸ªæ— ç¼“å†²çš„ channel</span></span></span></code></pre><div id="https://www.notion.so/8fa009b0923447d8b65fc1b3c4c12b39" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">channel æ ¹æ®æˆ‘ä»¬åˆå§‹åŒ–çš„å¤§å°åˆ†ä¸ºæœ‰ç¼“å†² channel å’Œæ— ç¼“å†² channel</span></span></p></div><div id="https://www.notion.so/0e8bf1cfb28e4f239b605f619088c4d4" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">æœ‰ç¼“å†² channel</strong></span></span></p></div><div id="https://www.notion.so/70733f4f58cc4292b5f579805cb56fcb" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F61dd0dd3-79a3-4e44-ab24-68b8d43fe1e3%2FUntitled.png?width=1730&amp;table=block&amp;id=70733f4f-58cc-4292-b5f5-79805cb56fcb"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F61dd0dd3-79a3-4e44-ab24-68b8d43fe1e3%2FUntitled.png?width=1730&amp;table=block&amp;id=70733f4f-58cc-4292-b5f5-79805cb56fcb" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/6dc393e2155544db8728dc2464c79a14" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">è¿™ç§ channelï¼Œå°±ç›¸å½“äºç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹é‡Œé¢çš„ç¼“å†²é˜Ÿåˆ—ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬åˆå§‹åŒ–äº†å¤§å°ä¸º 3 çš„é˜Ÿåˆ—ã€‚</span></span></p></div><div id="https://www.notion.so/fed6a48796ec479e95be7123b525c319" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">è¿™ç§æœ‰ç¼“å†²é˜Ÿåˆ—çš„æœ€å¤§ç‰¹ç‚¹æ˜¯</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">å¼‚æ­¥</strong></span><span class="SemanticString">ï¼Œç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ä¹‹é—´ä¸å¿…åŒæ­¥æ‰§è¡Œã€‚ä½†æ˜¯ä¹Ÿä¼šå¼•èµ·é˜»å¡ï¼š</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/c2ee03ee56724fb98450bfe0fcacea62" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">é˜Ÿåˆ—æ»¡æ—¶ç”Ÿäº§è€…é˜»å¡</span></span></li><li id="https://www.notion.so/9db011f18c734b7f8dd405b67d0d3ac0" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">é˜Ÿåˆ—ç©ºæ—¶æ¶ˆè´¹è€…é˜»å¡</span></span></li></ul><div id="https://www.notion.so/9ff73cbd70d8456f820ac31e943e1a12" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">é˜Ÿåˆ—æœªæ»¡ä¸”å­˜æœ‰ä¸€å®šæ•°æ®çš„æ—¶å€™ï¼Œç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…å¯ä»¥å„å¸å…¶èŒçš„å®Œæˆå­˜å–ã€‚</span></span></p></div><div id="https://www.notion.so/571d2e581f7d4b06a15eb50c83c882f8" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ä¸¾ä¸€ä¸ªç”Ÿæ´»ä¸­çš„ä¾‹å­ï¼Œæœ‰ç¼“å†²çš„ channel ç›¸å½“äºä¿¡ç®±ï¼Œä¿¡ç®±æœªæ»¡çš„æ—¶å€™é‚®å·®ç›´æ¥æŠŠä¿¡ä»¶æ”¾åˆ°ä¿¡ç®±é‡Œé¢å°±è¡Œäº†ï¼Œè€Œæˆ‘ä»¬å¯ä»¥éšæ—¶å»æ£€æŸ¥ä¿¡ç®±å–å‡ºä¿¡ä»¶ã€‚ï¼ˆè¿™é‡Œå…¶å®ä¸å¤ªå‡†ç¡®ï¼Œæ—¥å¸¸ç”Ÿæ´»ä¸­æˆ‘ä»¬æ£€æŸ¥å¦‚æœç©ºä¿¡ç®±çš„è¯ç›´æ¥èµ°æ‰äº†ï¼Œä½†æ˜¯ç¨‹åºä¸­å¦‚æœ channel æ˜¯ç©ºçš„è¯ç­‰å¾…çš„ goroutine æ˜¯ä¼šè¢«é˜»å¡çš„ï¼Œä¸¾è¿™ä¸ªä¾‹å­åªæ˜¯ä¸ºäº†çªå‡ºå¼‚æ­¥çš„ç‰¹ç‚¹ã€‚ï¼‰</span></span></p></div><div id="https://www.notion.so/98aea040164d479891b062b74b78646e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">æ— ç¼“å†² channel</strong></span></span></p></div><div id="https://www.notion.so/a868345a06b84931ae016f76f0b335f4" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fd027bf46-2c07-42db-ba57-240f594948dd%2FUntitled.png?width=1722&amp;table=block&amp;id=a868345a-06b8-4931-ae01-6f76f0b335f4"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fd027bf46-2c07-42db-ba57-240f594948dd%2FUntitled.png?width=1722&amp;table=block&amp;id=a868345a-06b8-4931-ae01-6f76f0b335f4" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/825110b0b7964815a2f7f0a039743a4d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">è¿™ç§æƒ…å†µçš„æ¶ˆè´¹è€…å’Œç”Ÿäº§è€…æ˜¯</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">åŒæ­¥</strong></span><span class="SemanticString">çš„ï¼ŒåŒæ­¥æŒ‡çš„æ˜¯è¦æ±‚åŒæ–¹éƒ½å‡†å¤‡å¥½æ‰èƒ½è¿›è¡Œä¸‹ä¸€æ­¥ã€‚ç”Ÿäº§è€…ç”Ÿäº§æ•°æ®åé˜»å¡åˆ°æ•°æ®è¢«å–èµ°ï¼Œè€Œæ¶ˆè´¹è€…è·å–æ•°æ®ä¹‹å‰ä¹Ÿæ˜¯é˜»å¡åœ¨å°è¯•è·å–çš„çŠ¶æ€ã€‚ä¸‹é¢è¿™å¼ å›¾æ›´åŠ å½¢è±¡ï¼š</span></span></p></div><div id="https://www.notion.so/25543cae478f4e9b82d01e4bcb9f68b6" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fba418f76-0195-47b0-8dd9-fd8a06aae594%2FUntitled.png?width=1112&amp;table=block&amp;id=25543cae-478f-4e9b-82d0-1e4bcb9f68b6"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fba418f76-0195-47b0-8dd9-fd8a06aae594%2FUntitled.png?width=1112&amp;table=block&amp;id=25543cae-478f-4e9b-82d0-1e4bcb9f68b6" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/96fd34fd6c744957b3a203f08b1bfc60" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">è¿˜æ˜¯ä¿¡ç®±çš„ä¾‹å­ï¼Œæ— ç¼“å†²çš„ channel ç›¸å½“äºæ²¡æœ‰ä¿¡ç®±äº†ï¼Œå¿«é€’å‘˜å’Œæ”¶ä»¶äººå¿…é¡»åŒæ—¶å‡†å¤‡å¥½æ‰èƒ½ç»“æŸå‘ä»¶å’Œæ”¶ä»¶çš„åŠ¨ä½œã€‚</span></span></p></div><div id="https://www.notion.so/2b9e5eacdcc1486dbedd4afced934ece" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">å¼€å‘ä¸­å¦‚æœæˆ‘ä»¬ä½¿ç”¨æ— ç¼“å†² channelï¼ŒåŠ¡å¿…è¦å°å¿ƒæ­»é”çš„æƒ…å†µ</span></span></p></div><pre id="https://www.notion.so/29f9a786bd0a4a2ea25c68ff9f2df9c1" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>func TestChannel(t *testing.T) {
	ch2 := make(chan int)
	ch2 &lt;- 1
	fmt.Println(&lt;-ch2)
}</span></span></span></code></pre><div id="https://www.notion.so/2d54a21de18643f28c137f0b8a6574f7" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">è¿™ç§æƒ…å†µè¿è¡Œåæ˜¯ä¼šå‘ç”Ÿæ­»é”çš„</span></span></p></div><div id="https://www.notion.so/915d3f00b9c0422e97873a72e408a278" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">fatal error: all goroutines are asleep - deadlock!</code></span></span></p></div><div id="https://www.notion.so/137d0a2da46d4be5b26e7b4094390a38" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æ­£ç¡®çš„å†™æ³•æ˜¯ä½¿ç”¨ goroutine æå‰å‡†å¤‡å¥½æ¥æ”¶ï¼š</span></span></p></div><pre id="https://www.notion.so/bd869f7e5dfe41cdb36d4bed0c89a5b4" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>func TestChannel(t *testing.T) {
	ch2 := make(chan int)
	go func() {
		fmt.Println(&lt;-ch2)
	}()
	ch2 &lt;- 1
}</span></span></span></code></pre><div id="https://www.notion.so/36cdc8e3d66e44e082a5a62335e40dc4" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦æå‰å‡†å¤‡å¥½æ¥æ”¶ï¼Œä¸ç„¶è¿˜æ˜¯ä¼šæ­»é”</span></span></p></div><pre id="https://www.notion.so/384e394c53454ac3b8c2c8eb2c1a40e1" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>func TestChannel(t *testing.T) {
	ch2 := make(chan int)
	ch2 &lt;- 1 // æå‰å‘é€, deadlock
	go func() {
		fmt.Println(&lt;-ch2)
	}()
}</span></span></span></code></pre><h1 id="https://www.notion.so/57342cba1e6b480abfe0d218bdf31d01" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/57342cba1e6b480abfe0d218bdf31d01"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">channel çš„ä½¿ç”¨</span></span></h1><h2 id="https://www.notion.so/e4d3d196c9af4e668babb511f4673d98" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/e4d3d196c9af4e668babb511f4673d98"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">éå†</span></span></h2><div id="https://www.notion.so/d90581524faf4cb592d95e4ef746c28b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">éå†æœ‰ä¸¤ç§æ–¹å¼</span></span></p></div><pre id="https://www.notion.so/40897a07ab1f4db6a3b9fee9f6b89f66" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>func TestFor(t *testing.T) {
	ch1 := make(chan int, 100)
	for i := 0; i &lt; 100; i++ {
		ch1 &lt;- i
	}
	
	// æ–¹å¼ä¸€, ç”¨ for å–å‡ºæ‰€æœ‰å…ƒç´ ï¼Œå»ºè®®ä½¿ç”¨
	for i := range ch1 {
		fmt.Println(i)
	}
	fmt.Println(&quot;-&quot;)

	// æ–¹å¼äºŒ
	for {
		i, ok := &lt;-ch1 // é€šé“å…³é—­åå†å–å€¼ok=false
		if !ok {
			break
		}
		fmt.Println(i)
	}
}</span></span></span></code></pre><div id="https://www.notion.so/d6805f42a4af4a43a422dace1c13a262" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æ¨èä½¿ç”¨æ–¹å¼ä¸€ï¼Œç®€å•åˆæ¸…æ™°</span></span></p></div><h2 id="https://www.notion.so/c4e39751adae46e5a2178a09bb7cf92e" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/c4e39751adae46e5a2178a09bb7cf92e"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">select</span></span></h2><div id="https://www.notion.so/6a3aa8f30d954d5f908906f63061f90e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æ­é… select æ˜¯çš„æˆ‘ä»¬åœ¨éå† channel çš„æ—¶å€™å¯ä»¥è¿›è¡Œé€‰æ‹©æ€§æ“ä½œï¼Œä¾‹å¦‚ä¸‹é¢çš„ä¾‹å­ï¼š</span></span></p></div><pre id="https://www.notion.so/c32d2b2b128846e3b1872cbfb6552d0b" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>func fibonacci(c, quit chan int) {
	x, y := 0, 1
	for {
		select {
		case c &lt;- x:
			x, y = y, x+y
		case &lt;-quit:
			fmt.Println(&quot;quit&quot;)
			return
		}
	}
}

func TestSelect(t *testing.T) {
	c := make(chan int)
	quit := make(chan int)
	go func() {
		for i := 0; i &lt; 10; i++ {
			fmt.Println(&lt;-c)
		}
		quit &lt;- 0
	}()
	fibonacci(c, quit)
}
// output:
//0
//1
//1
//2
//3
//5
//8
//13
//21
//34
//quit</span></span></span></code></pre><div id="https://www.notion.so/87355beea8a0476582237ed14f56aaae" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯åŠ¨äº†ä¸€ä¸ª goruntineï¼Œè¯»å– c ä¸­å‰ 10 ä¸ªå…ƒç´ ï¼Œç„¶åæˆ‘ä»¬è°ƒç”¨ fibonacciï¼Œå®ƒæ‰§è¡Œäº†ä¸€ä¸ª</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">for â€¦ select</code></span><span class="SemanticString"> çš„æ“ä½œï¼Œç¬¬ä¸€ä¸ª select ä¸æ–­å¾€ c ä¸­å†™å…¥ï¼Œç¬¬äºŒä¸ª select ä» quit ä¸­è¯»å–ï¼Œä¸€æ—¦ä» quit ä¸­è·å–åˆ°å…ƒç´ åï¼Œå°±é€€å‡ºå¾ªç¯</span></span></p></div><div id="https://www.notion.so/3b8ede40f8544331ab437e44a039b5b9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">è€Œåœ¨å¤–éƒ¨ï¼Œæˆ‘ä»¬æˆåŠŸè·å–åˆ°äº† fibonacci æ•°ï¼Œå¯ä»¥çœ‹åˆ° select çš„ä½¿ç”¨å’Œ Go ç®€å•æ˜“ç”¨ä¸”å¼ºå¤§çš„å¹¶å‘èƒ½åŠ›ã€‚</span></span></p></div><div id="https://www.notion.so/0cca82dbfe8440d0ab4484719ccdf4a5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">è¿›é˜¶ï¼šè¶…æ—¶ channel</strong></span></span></p></div><pre id="https://www.notion.so/1d3821ebda7f4d1d8d4f80af88f31162" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>func TestTimeout(t *testing.T) {
	c1 := make(chan string, 1)
	go func() {
		time.Sleep(time.Second * 2)
		c1 &lt;- &quot;result 1&quot;
	}()
	select {
	case res := &lt;-c1:
		fmt.Println(res)
	case &lt;-time.After(time.Second * 1):
		fmt.Println(&quot;timeout 1&quot;)
	}
}
// output:
// timeout 1

func After(d Duration) &lt;-chan Time {
	return NewTimer(d).C
}</span></span></span></code></pre><div id="https://www.notion.so/e102d6edff50441b904d6924de1e8800" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æˆ‘ä»¬é€šè¿‡è®¡æ—¶å™¨å’Œ selectï¼Œå¯ä»¥å®Œæˆå®šæ—¶ä»»åŠ¡ï¼Œæ¯”å¦‚è¯´ä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬è°ƒç”¨Afterè·å–åˆ°ä¸€ä¸ª </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">&lt;-chan</code></span><span class="SemanticString">ï¼Œè§¦å‘äº†ç›¸åº”çš„ caseï¼Œç»ˆæ­¢äº† select</span></span></p></div><div id="https://www.notion.so/0a16c838150845eeb9f72da730f6310e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ä¸Šé¢çš„æ€æƒ³å¯ä»¥æ‰©å±•åˆ°åœ¨æŸæ—¶åˆ» or æŸæ¡ä»¶ä¸‹åšç›¸åº”æ“ä½œçš„åŠŸèƒ½</span></span></p></div><h2 id="https://www.notion.so/3a1d7f8ace3b40c6b1913852f126e673" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/3a1d7f8ace3b40c6b1913852f126e673"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">é€šé“çš„é™åˆ¶</span></span></h2><div id="https://www.notion.so/90bd77dbd70946faacfa6798f65482fa" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æœ‰çš„æ—¶å€™æˆ‘ä»¬éœ€è¦é™åˆ¶é€šé“çš„è¯»å†™ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æå‰å£°æ˜é€šé“çš„ç±»å‹ï¼Œè¿™ç§é€šé“ç§°ä¸ºå•å‘é€šé“ï¼Œç‰¹ç‚¹æ˜¯é™åˆ¶äº†å†™å…¥æˆ–è€…è¯»å–çš„æ“ä½œï¼š</span></span></p></div><pre id="https://www.notion.so/ad19acae073f4f2083b0c1e21c853c9f" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>func op(writer &lt;-chan int, reader chan&lt;- int) {
	for data := range writer{
		reader &lt;- data
	}
}</span></span></span></code></pre><h2 id="https://www.notion.so/e7f29620d1ac4e8f855a7e5ded4335b1" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/e7f29620d1ac4e8f855a7e5ded4335b1"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">é€šé“çš„å…³é—­å’Œå¼‚å¸¸</span></span></h2><div id="https://www.notion.so/b74f899ec8ef40d7839bfea00c62b3fb" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ä½¿ç”¨ </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">close()</code></span><span class="SemanticString"> å‡½æ•°å¯ä»¥å…³é—­ä¸€ä¸ªé€šé“ï¼Œå¦‚æœæˆ‘ä»¬ç¡®è®¤é€šé“ä¸å†è¯»å†™ï¼Œé‚£ä¹ˆè®°å¾—åŠæ—¶å…³é—­</span></span></p></div><pre id="https://www.notion.so/33ad5d92f7d74ce994194d8fd06edf66" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>func TestClose(t *testing.T) {
	ch := make(chan int, 10)
	defer func(){
		close(ch)
	}()
	// do something ... 
}</span></span></span></code></pre><div id="https://www.notion.so/23c3917e30554853b30791cd7795adca" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">è¿™é‡Œæˆ‘ä»¬ä¼šå¥½å¥‡ï¼Œå¯¹å·²ç»å…³é—­çš„é€šé“è¯»å†™ä¼šæœ‰ä»€ä¹ˆå½±å“ï¼Ÿè¿™é‡Œä¹Ÿæ˜¯é¢è¯•ä¼šç»å¸¸é—®åˆ°çš„ï¼Œæˆ‘ä»¬è‡ªå·±å®éªŒä¸€ä¸‹çœ‹çœ‹ä¼šæœ‰ä»€ä¹ˆç»“æœï¼š</span></span></p></div><div id="https://www.notion.so/409cceac27fd4b548f2a7e553fdf0597" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">é¦–å…ˆæˆ‘ä»¬æ ¹æ®ç¼“å†²ç±»å‹åˆ†ä¸ºæ— ç¼“å†² channel å’Œæœ‰ç¼“å†² channel å®éªŒï¼š</span></span></p></div><div id="https://www.notion.so/32faa0cec89f40c68dbbdf4772420351" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">æ— ç¼“å†² channel</strong></span></span></p></div><div id="https://www.notion.so/ab726d247c7845f1ad0379c70c18eabb" class="ColumnList"><div id="https://www.notion.so/46b837d1971a48d382258e0faaf40022" class="Column" style="width:calc((100% - var(--column-spacing) * 1) * 0.5)"><pre id="https://www.notion.so/7d246defc0564658910a9d0cde1df1dd" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>// æ— ç¼“å†² channelï¼Œè¯»
func TestClose(t *testing.T) {
	ch := make(chan int)
	close(ch)
	fmt.Println(&lt;-ch) // 0
}</span></span></span></code></pre></div><div id="https://www.notion.so/fcb1b8cd2d8e45d996b0dcfc338534cb" class="Column" style="width:calc((100% - var(--column-spacing) * 1) * 0.5)"><pre id="https://www.notion.so/3df1f5bde6a84289b5a68246b484e328" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>// æ— ç¼“å†² channelï¼Œå†™
func TestClose(t *testing.T) {
	ch := make(chan int)
	close(ch)
	ch &lt;- 0 // panic: send on closed channel
}</span></span></span></code></pre></div></div><div id="https://www.notion.so/769ff341d33d4296adeec9009931dfe0" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">è¯»ä¼šè¯»å–åˆ°é›¶å€¼ï¼Œè€Œå†™ä¼š panic</span></span></p></div><div id="https://www.notion.so/29bddcf3c289412f92713974a395a2c8" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">æœ‰ç¼“å†² channel</strong></span></span></p></div><div id="https://www.notion.so/8ae971bfa57946e29eb272cd9f4c7832" class="ColumnList"><div id="https://www.notion.so/d55959d4f8854940a63d276ead993bc5" class="Column" style="width:calc((100% - var(--column-spacing) * 1) * 0.5)"><pre id="https://www.notion.so/72cc090d9b0043dfb058bfa9adb09081" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>// æœ‰ç¼“å†² channel, æ— å†™å…¥å€¼ï¼Œ è¯»
func TestClose(t *testing.T) {
	ch := make(chan int, 10)
	close(ch)
	fmt.Println(&lt;-ch) // 0
}</span></span></span></code></pre><pre id="https://www.notion.so/0c8c60b5b74948819238870da45b26e4" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>// æœ‰ç¼“å†² channelï¼Œæœ‰å†™å…¥å€¼ï¼Œè¯»
func TestClose(t *testing.T) {
	ch := make(chan int, 10)
	for i := 1; i &lt;= 10; i++ {
		ch &lt;- i
	}
	close(ch)
	for i := range ch {
		fmt.Println(i) // è¾“å‡º 1 åˆ° 10
	}
	fmt.Println(&lt;-ch) // è¾“å‡º 0
}</span></span></span></code></pre></div><div id="https://www.notion.so/94bd95f862214071b9c7516e712d029e" class="Column" style="width:calc((100% - var(--column-spacing) * 1) * 0.5)"><pre id="https://www.notion.so/ae806d40e8b243348a25f0280c5d1cbb" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>// æœ‰ç¼“å†² channel, å†™
func TestClose(t *testing.T) {
	ch := make(chan int, 10)
	close(ch)
	ch &lt;- 1 // panic: send on closed channel
}</span></span></span></code></pre><div id="https://www.notion.so/0998051dc7d0458e9243be223ef0e5a7" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div></div></div><div id="https://www.notion.so/2d845ee18bf943b4849a35fbd5e382a7" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">å¯ä»¥çœ‹åˆ°æœ‰ç¼“å†² channel çš„è¡Œä¸ºè¯»å–çš„æ—¶å€™ï¼Œå¦‚æœæœ‰é¢„ç•™å€¼åˆ™è¯»å–é¢„ç•™å€¼ï¼Œæ²¡æœ‰åˆ™è¯»å–åˆ°é›¶å€¼ï¼Œå†™åŒæ ·ä¼š panic</span></span></p></div><div id="https://www.notion.so/0b87b316e27d4b4797dbb20bcb863d3e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">è€Œæˆ‘ä»¬å†æ¬¡ </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">close</code></span><span class="SemanticString"> çš„è¯ï¼Œä¸ç®¡æœ‰æ— ç¼“å†²ï¼Œéƒ½ä¼šæç¤ºæˆ‘ä»¬ </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">panic: close of closed channel</code></span></span></p></div><div id="https://www.notion.so/b68ba900a5474eb78d370f6f06c19a0b" class="Divider"></div><div id="https://www.notion.so/e03be0544af34a04b048e42f8add8513" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ç°åœ¨æˆ‘ä»¬å¯ä»¥æ€»ç»“äº†ï¼Œä»</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">å·²ç»å…³é—­çš„ channel é‡Œé¢æ“ä½œ</strong></span><span class="SemanticString">ï¼š</span></span></p></div><div><div></div><div></div><div></div><div></div></div><div id="https://www.notion.so/c4f7c1e837b445a1bdeea2b8a1153d82" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">å¦‚æœæ˜¯ nil çš„ channel å‘¢ï¼Ÿ</span></span></p></div><div id="https://www.notion.so/afd54de394b040758aab8e036d5852ac" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æˆ‘ä»¬ä¾æ¬¡å°è¯•è¯»ï¼Œå†™ï¼Œcloseï¼Œå‘ç°éƒ½æ˜¯ panic</span></span></p></div><pre id="https://www.notion.so/e8ddac098105429fb19ca9844ac7802e" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>func TestClose(t *testing.T) {
	ch := make(chan int, 1)
	ch = nil
	fmt.Println(&lt;-ch) // fatal error: all goroutines are asleep - deadlock!
	ch &lt;- 1           // fatal error: all goroutines are asleep - deadlock!
	close(ch)         // panic: close of nil channel
}</span></span></span></code></pre><div id="https://www.notion.so/a88f0d5c96df402c8521316bca359594" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥æ€»ç»“ï¼š</span></span></p></div><div><div></div><div></div><div></div><div></div></div><h1 id="https://www.notion.so/c84cfefbf8ca4a96bd46fe50c45a897a" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/c84cfefbf8ca4a96bd46fe50c45a897a"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">æºç åˆ†æ</span></span></h1><div id="https://www.notion.so/f056be6e6f0242f596b56c72d5e3eaa4" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://juejin.cn/post/6844904016254599176#heading-7">æ·±å…¥ç†è§£Golangä¹‹channel - æ˜é‡‘ (juejin.cn)</a></span><span class="SemanticString"> è¿™ç¯‡æ–‡ç« åˆ†æå¾—éå¸¸å¥½ï¼Œæˆ‘å…ˆå­¦ä¹ ä¸€ä¸‹ï¼Œåé¢å†è¡¥å……</span></span></p></div><div id="https://www.notion.so/62e029089d764c5dab213ca1e2dcacad" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h1 id="https://www.notion.so/20ded407864f4db1b7509688e9332926" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/20ded407864f4db1b7509688e9332926"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Ref</span></span></h1><div id="https://www.notion.so/b06f46a1095144958ffed7d1d4833f22" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://www.runoob.com/w3cnote/go-channel-intro.html">Go Channel è¯¦è§£ | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a></span></span></p></div><div id="https://www.notion.so/259bb75df16a43e7874074405c95f05d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://juejin.cn/post/6844904016254599176">æ·±å…¥ç†è§£Golangä¹‹channel - æ˜é‡‘ (juejin.cn)</a></span></span></p></div><div id="https://www.notion.so/b2cd90d3d8294d638552942aa6bf9af5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://www.topgoer.com/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/channel.html">Channel Â· Goè¯­è¨€ä¸­æ–‡æ–‡æ¡£ (topgoer.com)</a></span></span></p></div><div id="https://www.notion.so/4ad9e53ff37b4e279fa904f585cabf65" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div></article>
  <footer class="Footer">
  <div>&copy; Notablog 2022</div>
  <div>&centerdot;</div>
  <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
      rel="noopener noreferrer">Notablog</a>.
  </div>
</footer>
</body>

</html>